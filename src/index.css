@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Design tokens (HSL) ---------- */
:root {
  --bg:    20 25% 98%;
  --fg:    230 20% 16%;
  --card:  0 0% 100%;
  --mute:  230 10% 45%;
  --brand: 12 85% 60%;  /* coral */
  --accent:246 72% 55%; /* indigo */
}

.dark {
  --bg:    220 22% 12%;
  --fg:    210 18% 95%;
  --card:  220 20% 14%;
  --mute:  215 10% 66%;
  --brand: 12 90% 66%;
  --accent:248 75% 66%;
}

/* background helpers to keep light theme lively */
.grad-brand  { background: radial-gradient(60% 60% at 50% 50%, hsl(var(--brand)/.65), transparent 60%); }
.grad-accent { background: radial-gradient(60% 60% at 50% 50%, hsl(var(--accent)/.45), transparent 60%); }

/* ---------- Base ---------- */
@layer base {
  html {
    @apply bg-bg text-fg;
    font-feature-settings: "liga" 1, "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body { @apply text-fluid leading-relaxed; }

  h1,h2,h3,h4,h5,h6 { @apply font-semibold tracking-tight text-fg; }
  h1 { @apply text-3xl md:text-4xl; }
  h2 { @apply text-2xl md:text-3xl; }
  h3 { @apply text-xl md:text-2xl; }

  a { @apply text-brand underline-offset-4 hover:underline; }

  /* Focus ring (use quotes inside theme()) */
  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px theme('colors.ring / 0.4');
    border-radius: 6px;
  }
}

/* ---------- Components ---------- */
@layer components {
  .card {
    @apply bg-card border border-black/5 dark:border-white/10 rounded-2xl p-4 shadow-soft;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition
           disabled:opacity-50 disabled:cursor-not-allowed active:scale-[.98];
    transition-timing-function: theme('transitionTimingFunction.out-soft');
  }
  .btn-primary { @apply btn bg-brand text-white hover:brightness-110; }
  .btn-ghost   { @apply btn bg-transparent hover:bg-black/5 dark:hover:bg-white/10; }

  .logout-btn {
    color: hsl(var(--brand));
    text-underline-offset: 4px;
  }

  .input {
    @apply w-full rounded-xl border border-black/10 dark:border-white/15 bg-white dark:bg-black/20
           px-3 py-2 text-sm outline-none
           focus:border-brand focus:ring-2 focus:ring-brand/30;
  }
  .textarea { @apply input min-h-[120px]; }

  .label { @apply block text-sm font-medium mb-1; }

  .badge {
    @apply inline-flex items-center gap-1 rounded-full px-3 py-1.5 text-xs font-medium
           ring-1 shadow-sm select-none;
    /* solid background tied to the card color so it works in both themes */
    background-color: hsl(var(--card));
    color: hsl(var(--fg));
    /* crisp ring that adapts to light/dark */
    box-shadow: inset 0 0 0 1px color-mix(in oklab, currentColor 14%, transparent);
  }
  
  /* optional hover lift */
  .badge:hover {
    @apply translate-y-[-1px];
    box-shadow:
      inset 0 0 0 1px color-mix(in oklab, currentColor 20%, transparent),
      0 1px 6px rgba(0,0,0,0.06);
  }
}

/* ---------- Utilities ---------- */
@layer utilities {
  /* Pleasant brand gradient; browsers that donâ€™t support color-mix will just ignore it */
  .grad-brand {
    background: linear-gradient(
      135deg,
      hsl(var(--brand)) 0%,
      color-mix(in oklab, hsl(var(--brand)) 75%, white) 100%
    );
  }
}

.grad-text {
  background-image: linear-gradient(90deg, var(--brand), var(--accent));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}